o Adding command line options to create audit logging.

  http://52.58.107.236/cmon-docs/current/cmonjobs.html#audit_logging

o Setting/adding groups fo users is not implemented.

o The --stat does not show '-' on the missing strings.

$ s9s/s9s user --stat kedz
kedz                                                                                                          Name: kedz                         Owner: kedz/admins 
      ID: 3                         Disabled: no
Fullname:                              Email:  
 Suspend: no                   Failed logins: 0
  Groups: users                          
 Created: -                              
   Login: 2017-11-08T08:48:14.398Z       
 Failure: -                        

o 
hmm...
Sent on:
2:40 pm
From:
Krzysztof Książek
s9s node --change-config --opt-name="log_bin" --opt-value="1" --opt-group="mysqld" --nodes="10.0.0.226:3306"
s9s node --change-config --opt-name="expire_logs_days" --opt-value="7" --opt-group="mysqld" --nodes="10.0.0.226:3306"
s9s node --change-config --opt-name="log_slave_updates" --opt-value="1" --opt-group="mysqld" --nodes="10.0.0.226:3306"
From:
Krzysztof Książek
first two work ok
From:
Krzysztof Książek
third one doesn't seem to change anything...
From:
Krzysztof Książek
I'm not sure why
From:
Krzysztof Książek
and sometimes it results in:
[11520.259877] cmon[27769]: segfault at 48c ip 000000000103919f sp 00007fcc8dff8520 error 4 in cmon[400000+131f000]
From:
Krzysztof Książek
and as this breaks the scenario of adding the slave for my webinar, if you could find some time to look into that, it'd be great


o [vagrant@n1 ~]$ s9s user --create --generate-key --controller=”https://localhost:9501” --cmon-user=dba
Grant user 'dba' succeeded.

[vagrant@n1 ~]$ s9s cluster --create-account --account=sysbench:sysbench@10.10.10.10 --privileges=*.*:'ALL PRIVILEGES' --cluster-id=1
Authentication failed: Controller host name is not set.


[vagrant@n1 ~]$ sudo vi /home/vagrant/.s9s/s9s.conf


Can we do something about the “Authentication failed: Controller host name is not set.”, i.e create a working config file with this set when i create my user?

o 
  curl -XPOST -d '{ "token":"0CrxAHFdq8yKzv2h","operation": "createJob", "job": {"command":"error_report", "job_data": {"report_dir":"/tmp/"} }}' http://localhost:9500/2/j

o s9s cluster —add-node —nodes=proxysql://10.10.10.23?db_username=bob&db_password=b0b&db_database=‘*.*'&db_privs=‘SELECT,INSERT,UPDATE'

ok, so to summarise it will be possible to do this:

s9s cluster --create-account --cluster-id=1  --username=pip --password=passwd —database=“*.*”  —privs=“REPLICATION CLIENT"

but also

s9s cluster --create-account --cluster-id=1  --username=pip --password=passwd —compact-priv-format=“*.*: REPLICATION CLIENT”

o 
  s9s node —stop/—start  —nodes=mysql://10.10.10.10

o 
  s9s cluster —change-config —nodes=mysql://10.10.10.10  —group=mysqld  —variable=max_connections —value=200



o 
  Adding a feature to list accounts.

mysql> desc mysql.user;
+------------------------+-----------------------------------+------+-----+-----------------------+-------+
| Field                  | Type                              | Null | Key | Default               | Extra |
+------------------------+-----------------------------------+------+-----+-----------------------+-------+
| Host                   | char(60)                          | NO   | PRI |                       |       |
| User                   | char(16)                          | NO   | PRI |                       |       |
| Password               | char(41)                          | NO   |     |                       |       |
| Select_priv            | enum('N','Y')                     | NO   |     | N                     |       |
| Insert_priv            | enum('N','Y')                     | NO   |     | N                     |       |
| Update_priv            | enum('N','Y')                     | NO   |     | N                     |       |
| Delete_priv            | enum('N','Y')                     | NO   |     | N                     |       |
| Create_priv            | enum('N','Y')                     | NO   |     | N                     |       |
| Drop_priv              | enum('N','Y')                     | NO   |     | N                     |       |
| Reload_priv            | enum('N','Y')                     | NO   |     | N                     |       |
| Shutdown_priv          | enum('N','Y')                     | NO   |     | N                     |       |
| Process_priv           | enum('N','Y')                     | NO   |     | N                     |       |
| File_priv              | enum('N','Y')                     | NO   |     | N                     |       |
| Grant_priv             | enum('N','Y')                     | NO   |     | N                     |       |
| References_priv        | enum('N','Y')                     | NO   |     | N                     |       |
| Index_priv             | enum('N','Y')                     | NO   |     | N                     |       |
| Alter_priv             | enum('N','Y')                     | NO   |     | N                     |       |
| Show_db_priv           | enum('N','Y')                     | NO   |     | N                     |       |
| Super_priv             | enum('N','Y')                     | NO   |     | N                     |       |
| Create_tmp_table_priv  | enum('N','Y')                     | NO   |     | N                     |       |
| Lock_tables_priv       | enum('N','Y')                     | NO   |     | N                     |       |
| Execute_priv           | enum('N','Y')                     | NO   |     | N                     |       |
| Repl_slave_priv        | enum('N','Y')                     | NO   |     | N                     |       |
| Repl_client_priv       | enum('N','Y')                     | NO   |     | N                     |       |
| Create_view_priv       | enum('N','Y')                     | NO   |     | N                     |       |
| Show_view_priv         | enum('N','Y')                     | NO   |     | N                     |       |
| Create_routine_priv    | enum('N','Y')                     | NO   |     | N                     |       |
| Alter_routine_priv     | enum('N','Y')                     | NO   |     | N                     |       |
| Create_user_priv       | enum('N','Y')                     | NO   |     | N                     |       |
| Event_priv             | enum('N','Y')                     | NO   |     | N                     |       |
| Trigger_priv           | enum('N','Y')                     | NO   |     | N                     |       |
| Create_tablespace_priv | enum('N','Y')                     | NO   |     | N                     |       |
| ssl_type               | enum('','ANY','X509','SPECIFIED') | NO   |     |                       |       |
| ssl_cipher             | blob                              | NO   |     | NULL                  |       |
| x509_issuer            | blob                              | NO   |     | NULL                  |       |
| x509_subject           | blob                              | NO   |     | NULL                  |       |
| max_questions          | int(11) unsigned                  | NO   |     | 0                     |       |
| max_updates            | int(11) unsigned                  | NO   |     | 0                     |       |
| max_connections        | int(11) unsigned                  | NO   |     | 0                     |       |
| max_user_connections   | int(11) unsigned                  | NO   |     | 0                     |       |
| plugin                 | char(64)                          | YES  |     | mysql_native_password |       |
| authentication_string  | text                              | YES  |     | NULL                  |       |
| password_expired       | enum('N','Y')                     | NO   |     | N                     |       |
+------------------------+-----------------------------------+------+-----+-----------------------+-------+
















